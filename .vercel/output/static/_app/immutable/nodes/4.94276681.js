import{s as z,r as A,n as R}from"../chunks/scheduler.3139b196.js";import{S as q,i as G,g as d,s as y,r as K,h as f,j as D,A as P,c as T,u as Q,f as C,k as n,a as B,x as o,v as W,B as S,C as V,F as X,d as Y,t as Z,w as ee,m as te,n as se,o as ae}from"../chunks/index.e28029e5.js";import{S as ne}from"../chunks/SvelteTypedJs.e34ba699.js";import{g as le}from"../chunks/navigation.6ee81ba0.js";function re(i){let t,a='<p class="svelte-mw73a4">Become The Best <span class="typing"></span> ðŸ‘‘</p>';return{c(){t=d("div"),t.innerHTML=a,this.h()},l(e){t=f(e,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1wxv3rx"&&(t.innerHTML=a),this.h()},h(){n(t,"class","typing-animation svelte-mw73a4")},m(e,s){B(e,t,s)},p:R,d(e){e&&C(t)}}}function U(i){let t,a;return{c(){t=d("p"),a=te(i[2]),this.h()},l(e){t=f(e,"P",{class:!0});var s=D(t);a=se(s,i[2]),s.forEach(C),this.h()},h(){n(t,"class","error svelte-mw73a4")},m(e,s){B(e,t,s),o(t,a)},p(e,s){s&4&&ae(a,e[2])},d(e){e&&C(t)}}}function oe(i){let t,a,e,s,h="Login Page",b,v,L,c,H,u,k,$,_,E="Log In",j,g,x='<p class="svelte-mw73a4">Dont have an account? <a href="/register" class="svelte-mw73a4">Register First!</a></p> <p class="svelte-mw73a4">Or <a href="/" class="svelte-mw73a4">Just Play!</a></p>',N,w,F='<video playsinline="" autoplay="" muted="" loop="" class="svelte-mw73a4"><source src="logos.mp4" type="video/mp4"/></video>',I,O,J;v=new ne({props:{strings:["Type Master"],typeSpeed:"10",backSpeed:"10",loop:"true",$$slots:{default:[re]},$$scope:{ctx:i}}});let r=i[2]&&U(i);return{c(){t=d("div"),a=d("div"),e=d("form"),s=d("h1"),s.textContent=h,b=y(),K(v.$$.fragment),L=y(),c=d("input"),H=y(),u=d("input"),k=y(),r&&r.c(),$=y(),_=d("button"),_.textContent=E,j=y(),g=d("div"),g.innerHTML=x,N=y(),w=d("div"),w.innerHTML=F,this.h()},l(l){t=f(l,"DIV",{class:!0,id:!0});var m=D(t);a=f(m,"DIV",{class:!0});var M=D(a);e=f(M,"FORM",{class:!0});var p=D(e);s=f(p,"H1",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-1r2j0ac"&&(s.textContent=h),b=T(p),Q(v.$$.fragment,p),L=T(p),c=f(p,"INPUT",{type:!0,placeholder:!0,id:!0,name:!0,class:!0}),H=T(p),u=f(p,"INPUT",{type:!0,placeholder:!0,id:!0,name:!0,class:!0}),k=T(p),r&&r.l(p),$=T(p),_=f(p,"BUTTON",{class:!0,"data-svelte-h":!0}),P(_)!=="svelte-1upmudf"&&(_.textContent=E),j=T(p),g=f(p,"DIV",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-1idzcgi"&&(g.innerHTML=x),p.forEach(C),M.forEach(C),N=T(m),w=f(m,"DIV",{class:!0,"data-svelte-h":!0}),P(w)!=="svelte-vz7cl6"&&(w.innerHTML=F),m.forEach(C),this.h()},h(){n(s,"class","svelte-mw73a4"),n(c,"type","name"),n(c,"placeholder","Name"),n(c,"id","name"),n(c,"name","name"),n(c,"class","svelte-mw73a4"),n(u,"type","password"),n(u,"placeholder","Password"),n(u,"id","password"),n(u,"name","password"),n(u,"class","svelte-mw73a4"),n(_,"class","svelte-mw73a4"),n(g,"class","register-p svelte-mw73a4"),n(e,"class","svelte-mw73a4"),n(a,"class","form-container sign-in svelte-mw73a4"),n(w,"class","toggle-container svelte-mw73a4"),n(t,"class","container svelte-mw73a4"),n(t,"id","container")},m(l,m){B(l,t,m),o(t,a),o(a,e),o(e,s),o(e,b),W(v,e,null),o(e,L),o(e,c),S(c,i[0]),o(e,H),o(e,u),S(u,i[1]),o(e,k),r&&r.m(e,null),o(e,$),o(e,_),o(e,j),o(e,g),o(t,N),o(t,w),I=!0,O||(J=[V(c,"input",i[4]),V(u,"input",i[5]),V(e,"submit",X(i[3]))],O=!0)},p(l,[m]){const M={};m&64&&(M.$$scope={dirty:m,ctx:l}),v.$set(M),m&1&&S(c,l[0]),m&2&&u.value!==l[1]&&S(u,l[1]),l[2]?r?r.p(l,m):(r=U(l),r.c(),r.m(e,$)):r&&(r.d(1),r=null)},i(l){I||(Y(v.$$.fragment,l),I=!0)},o(l){Z(v.$$.fragment,l),I=!1},d(l){l&&C(t),ee(v),r&&r.d(),O=!1,A(J)}}}function ie(i,t,a){let e="",s="",h="";const b=async()=>{if(!e||!s){a(2,h="Please fill in all fields!");return}a(2,h="");try{(await fetch("https://typemaster.online/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e,password:s})})).ok?await le("/"):a(2,h="Login failed. Double check your name and password.")}catch{a(2,h="An error occurs when trying to log in")}};function v(){e=this.value,a(0,e)}function L(){s=this.value,a(1,s)}return[e,s,h,b,v,L]}class de extends q{constructor(t){super(),G(this,t,ie,oe,z,{})}}export{de as component};
